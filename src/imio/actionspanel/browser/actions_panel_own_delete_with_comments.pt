<tal:defines define="objectUID context/UID;
                     useIcons view/useIcons;">

    <tal:comment replace="nothing">Delete icon/button</tal:comment>
    <td class="noPadding" i18n:domain="plone" tal:define="dummy view/saveHasActions;">
      <a class="link-overlay-actionspanel"
         tal:attributes="href string: ${view/portal_url}/@@delete_with_comments?uid=${objectUID};">

        <tal:comment replace="nothing">Icon</tal:comment>
        <img tal:condition="useIcons"
             i18n:attributes="title"
             title="Delete with comments"
             tal:attributes="src string:${view/portal_url}/delete_icon.png;" />

        <tal:comment replace="nothing">Button</tal:comment>
        <input tal:condition="not: useIcons"
               type="button"
               i18n:attributes="value"
               value="Delete with comments"
               class="apButton apButtonAction apButtonAction_delete"/>
      </a>
    </td>

</tal:defines>
